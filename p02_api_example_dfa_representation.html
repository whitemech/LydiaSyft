<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LydiaSyft: DFA Representations</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LydiaSyft
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('p02_api_example_dfa_representation.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">DFA Representations </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_docs_api_p02_api_example_dfa_representation"></a> In this example, we will explore the C++ API to translate the DFA between different representations.</p>
<p>The code of this example can be found in the file <code>examples/02_dfa_representation/dfa_representation.cpp</code>. To build this example, you can run <code>make dfa_representation_example</code>.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sstream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;lydia/parser/ltlf/driver.hpp&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;automata/ExplicitStateDfa.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;automata/ExplicitStateDfaAdd.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;automata/SymbolicStateDfa.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;VarMgr.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;lydia/mona_ext/mona_ext_base.hpp&quot;</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> ** argv) {</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// explicit DFA</span></div>
<div class="line">    std::string request = <span class="stringliteral">&quot;request&quot;</span>;</div>
<div class="line">    std::string response = <span class="stringliteral">&quot;response&quot;</span>;</div>
<div class="line">    std::string formula_str = <span class="stringliteral">&quot;G(request -&gt; F(response))&quot;</span>;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Input formula: &quot;</span> &lt;&lt; formula_str &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// parse the formula</span></div>
<div class="line">    <span class="keyword">auto</span> driver = std::make_shared&lt;whitemech::lydia::parsers::ltlf::LTLfDriver&gt;();</div>
<div class="line">    std::stringstream formula_stream(formula_str);</div>
<div class="line">    driver-&gt;parse(formula_stream);</div>
<div class="line">    whitemech::lydia::ltlf_ptr formula = driver-&gt;get_result();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// build the explicit-state DFA</span></div>
<div class="line">    <a class="code" href="classSyft_1_1ExplicitStateDfa.html">Syft::ExplicitStateDfa</a> dfa = <a class="code" href="classSyft_1_1ExplicitStateDfa.html#aed0406d1f1d2dace3fc31bc288941969">Syft::ExplicitStateDfa::dfa_of_formula</a>(*formula);</div>
<div class="line"> </div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Printing the DFA in textual form: &quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    dfa.<a class="code" href="classSyft_1_1ExplicitStateDfa.html#a2c6c1842c479a3bdeb28fba6ebedf8f3">dfa_print</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// export the DFA in MONA format</span></div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Printing the DFA in MONA format...&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    dfa.export_dfa(<span class="stringliteral">&quot;main.mona&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// export the DFA in DOT and SVG formats:</span></div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Exporting the explicit-state MONA DFA in DOT and SVG to files &#39;main.dot&#39; and &#39;main.svg&#39;...&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    whitemech::lydia::print_mona_dfa(</div>
<div class="line">        dfa.dfa_,</div>
<div class="line">        <span class="stringliteral">&quot;main&quot;</span>,</div>
<div class="line">        dfa.<a class="code" href="classSyft_1_1ExplicitStateDfa.html#afca00daf9a3446a81c435f263a0ff1e5">get_nb_variables</a>()</div>
<div class="line">    );</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// transform in explicit state form with ADD</span></div>
<div class="line">    std::shared_ptr&lt;Syft::VarMgr&gt; var_mgr = std::make_shared&lt;Syft::VarMgr&gt;();</div>
<div class="line">    var_mgr-&gt;create_named_variables({request, response});</div>
<div class="line">    <a class="code" href="classSyft_1_1ExplicitStateDfaAdd.html">Syft::ExplicitStateDfaAdd</a> explicit_dfa_add = <a class="code" href="classSyft_1_1ExplicitStateDfaAdd.html#af4ec91852395c954072e3187d3232f77">Syft::ExplicitStateDfaAdd::from_dfa_mona</a>(var_mgr, dfa);</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Number of states: &quot;</span> &lt;&lt; explicit_dfa_add.<a class="code" href="classSyft_1_1ExplicitStateDfaAdd.html#a686e1862ade00a1c99d9025995b4ecb5">state_count</a>() &lt;&lt; std::endl;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Exporting the explicit-state ADD DFA in DOT format to file &#39;main_add.dot&#39;...&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    explicit_dfa_add.<a class="code" href="classSyft_1_1ExplicitStateDfaAdd.html#afcacdbd314e1e6c237b99cc0f61313ae">dump_dot</a>(<span class="stringliteral">&quot;main_add.dot&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// build the symbolic-state DFA from the explicit-state DFA</span></div>
<div class="line">    <a class="code" href="classSyft_1_1SymbolicStateDfa.html">Syft::SymbolicStateDfa</a> symbolic_dfa = <a class="code" href="classSyft_1_1SymbolicStateDfa.html#ac14b97fb14b1c3b97a3a9c7ffe4c76c8">Syft::SymbolicStateDfa::from_explicit</a>(std::move(explicit_dfa_add));</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Exporting the symbolic-state DFA in DOT format to file &#39;main_symbolic.dot&#39;...&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    symbolic_dfa.<a class="code" href="classSyft_1_1SymbolicStateDfa.html#ae2b6e13bfc5497239544cfe45fab5683">dump_dot</a>(<span class="stringliteral">&quot;main_symbolic.dot&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aclassSyft_1_1ExplicitStateDfaAdd_html"><div class="ttname"><a href="classSyft_1_1ExplicitStateDfaAdd.html">Syft::ExplicitStateDfaAdd</a></div><div class="ttdoc">A DFA with explicit states and symbolic transitions represented in ADDs.</div><div class="ttdef"><b>Definition:</b> ExplicitStateDfaAdd.h:18</div></div>
<div class="ttc" id="aclassSyft_1_1ExplicitStateDfaAdd_html_a686e1862ade00a1c99d9025995b4ecb5"><div class="ttname"><a href="classSyft_1_1ExplicitStateDfaAdd.html#a686e1862ade00a1c99d9025995b4ecb5">Syft::ExplicitStateDfaAdd::state_count</a></div><div class="ttdeci">std::size_t state_count() const</div><div class="ttdoc">Returns the number of states in the DFA.</div><div class="ttdef"><b>Definition:</b> ExplicitStateDfaAdd.cpp:117</div></div>
<div class="ttc" id="aclassSyft_1_1ExplicitStateDfaAdd_html_af4ec91852395c954072e3187d3232f77"><div class="ttname"><a href="classSyft_1_1ExplicitStateDfaAdd.html#af4ec91852395c954072e3187d3232f77">Syft::ExplicitStateDfaAdd::from_dfa_mona</a></div><div class="ttdeci">static ExplicitStateDfaAdd from_dfa_mona(std::shared_ptr&lt; VarMgr &gt; var_mgr, const ExplicitStateDfa &amp;explicit_dfa)</div><div class="ttdoc">Constructs an explicit-state DFA in ADD representation from an explicit-state DFA.</div><div class="ttdef"><b>Definition:</b> ExplicitStateDfaAdd.cpp:44</div></div>
<div class="ttc" id="aclassSyft_1_1ExplicitStateDfaAdd_html_afcacdbd314e1e6c237b99cc0f61313ae"><div class="ttname"><a href="classSyft_1_1ExplicitStateDfaAdd.html#afcacdbd314e1e6c237b99cc0f61313ae">Syft::ExplicitStateDfaAdd::dump_dot</a></div><div class="ttdeci">void dump_dot(const std::string &amp;filename) const</div><div class="ttdoc">Saves the transition function of the DFA in a .dot file.</div><div class="ttdef"><b>Definition:</b> ExplicitStateDfaAdd.cpp:129</div></div>
<div class="ttc" id="aclassSyft_1_1ExplicitStateDfa_html"><div class="ttname"><a href="classSyft_1_1ExplicitStateDfa.html">Syft::ExplicitStateDfa</a></div><div class="ttdoc">A DFA with explicit states and symbolic transitions.</div><div class="ttdef"><b>Definition:</b> ExplicitStateDfa.h:22</div></div>
<div class="ttc" id="aclassSyft_1_1ExplicitStateDfa_html_a2c6c1842c479a3bdeb28fba6ebedf8f3"><div class="ttname"><a href="classSyft_1_1ExplicitStateDfa.html#a2c6c1842c479a3bdeb28fba6ebedf8f3">Syft::ExplicitStateDfa::dfa_print</a></div><div class="ttdeci">void dfa_print()</div><div class="ttdoc">Print the explicit-state DFA.</div><div class="ttdef"><b>Definition:</b> ExplicitStateDfa.cpp:23</div></div>
<div class="ttc" id="aclassSyft_1_1ExplicitStateDfa_html_aed0406d1f1d2dace3fc31bc288941969"><div class="ttname"><a href="classSyft_1_1ExplicitStateDfa.html#aed0406d1f1d2dace3fc31bc288941969">Syft::ExplicitStateDfa::dfa_of_formula</a></div><div class="ttdeci">static ExplicitStateDfa dfa_of_formula(const whitemech::lydia::LTLfFormula &amp;formula)</div><div class="ttdoc">Construct an explicit-state DFA from a given formula using Lydia.</div><div class="ttdef"><b>Definition:</b> ExplicitStateDfa.cpp:31</div></div>
<div class="ttc" id="aclassSyft_1_1ExplicitStateDfa_html_afca00daf9a3446a81c435f263a0ff1e5"><div class="ttname"><a href="classSyft_1_1ExplicitStateDfa.html#afca00daf9a3446a81c435f263a0ff1e5">Syft::ExplicitStateDfa::get_nb_variables</a></div><div class="ttdeci">int get_nb_variables()</div><div class="ttdoc">Get the number of variables.</div><div class="ttdef"><b>Definition:</b> ExplicitStateDfa.h:70</div></div>
<div class="ttc" id="aclassSyft_1_1SymbolicStateDfa_html"><div class="ttname"><a href="classSyft_1_1SymbolicStateDfa.html">Syft::SymbolicStateDfa</a></div><div class="ttdoc">A DFA with symbolic states and transitions.</div><div class="ttdef"><b>Definition:</b> SymbolicStateDfa.h:18</div></div>
<div class="ttc" id="aclassSyft_1_1SymbolicStateDfa_html_ac14b97fb14b1c3b97a3a9c7ffe4c76c8"><div class="ttname"><a href="classSyft_1_1SymbolicStateDfa.html#ac14b97fb14b1c3b97a3a9c7ffe4c76c8">Syft::SymbolicStateDfa::from_explicit</a></div><div class="ttdeci">static SymbolicStateDfa from_explicit(const ExplicitStateDfaAdd &amp;explicit_dfa)</div><div class="ttdoc">Converts an explicit DFA to a symbolic representation.</div><div class="ttdef"><b>Definition:</b> SymbolicStateDfa.cpp:92</div></div>
<div class="ttc" id="aclassSyft_1_1SymbolicStateDfa_html_ae2b6e13bfc5497239544cfe45fab5683"><div class="ttname"><a href="classSyft_1_1SymbolicStateDfa.html#ae2b6e13bfc5497239544cfe45fab5683">Syft::SymbolicStateDfa::dump_dot</a></div><div class="ttdeci">void dump_dot(const std::string &amp;filename) const</div><div class="ttdoc">Saves the symbolic representation of the DFA in a .dot file.</div><div class="ttdef"><b>Definition:</b> SymbolicStateDfa.cpp:162</div></div>
</div><!-- fragment --><p>In this example, we consider the DFA associated to the LTLf formula <code>G(request -&gt; F(response))</code>.</p>
<h2><a class="anchor" id="autotoc_md17"></a>
Build a DFA from a LTLf formula</h2>
<p>First, we define our LTLf formula <code>G(request -&gt; F(response))</code> and parse it using the Lydia LTLf parser:</p>
<div class="fragment"><div class="line"><span class="comment">// build the formula</span></div>
<div class="line">std::string request = <span class="stringliteral">&quot;request&quot;</span>;</div>
<div class="line">std::string response = <span class="stringliteral">&quot;response&quot;</span>;</div>
<div class="line">std::string formula_str = <span class="stringliteral">&quot;G(request -&gt; F(response))&quot;</span>;</div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;Input formula: &quot;</span> &lt;&lt; formula_str &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// parse the formula</span></div>
<div class="line"><span class="keyword">auto</span> driver = std::make_shared&lt;whitemech::lydia::parsers::ltlf::LTLfDriver&gt;();</div>
<div class="line">std::stringstream formula_stream(formula_str);</div>
<div class="line">driver-&gt;parse(formula_stream);</div>
<div class="line">whitemech::lydia::ltlf_ptr formula = driver-&gt;get_result();</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md18"></a>
Explicit DFA representation (MONA-based)</h2>
<p>Next, we use the function <code><a class="el" href="classSyft_1_1ExplicitStateDfa.html#aed0406d1f1d2dace3fc31bc288941969" title="Construct an explicit-state DFA from a given formula using Lydia.">Syft::ExplicitStateDfa::dfa_of_formula</a></code> to build the DFA starting from the LTLf formula, in explicit-state representation, (in particular, in the MONA representation):</p>
<div class="fragment"><div class="line"><span class="comment">// build the explicit-state DFA</span></div>
<div class="line"><a class="code" href="classSyft_1_1ExplicitStateDfa.html">Syft::ExplicitStateDfa</a> dfa = <a class="code" href="classSyft_1_1ExplicitStateDfa.html#aed0406d1f1d2dace3fc31bc288941969">Syft::ExplicitStateDfa::dfa_of_formula</a>(*formula);</div>
</div><!-- fragment --><p>The DFA can be exported in several formats:</p>
<ul>
<li>In textual form:</li>
</ul>
<div class="fragment"><div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;Printing the DFA in textual form: &quot;</span> &lt;&lt; std::endl;</div>
<div class="line">dfa.<a class="code" href="classSyft_1_1ExplicitStateDfa.html#a2c6c1842c479a3bdeb28fba6ebedf8f3">dfa_print</a>();</div>
</div><!-- fragment --><p>This will print to stdout:</p>
<div class="fragment"><div class="line">Printing the DFA in textual form: </div>
<div class="line">Computed automaton: </div>
<div class="line">DFA for formula with free variables: request response </div>
<div class="line">Initial state: 0</div>
<div class="line">Accepting states: 0 </div>
<div class="line">Rejecting states: 1 </div>
<div class="line"> </div>
<div class="line">Automaton has 2 state(s) and 4 BDD-node(s)</div>
<div class="line">Transitions:</div>
<div class="line">State 0: 0X -&gt; state 0</div>
<div class="line">State 0: 10 -&gt; state 1</div>
<div class="line">State 0: 11 -&gt; state 0</div>
<div class="line">State 1: X0 -&gt; state 1</div>
<div class="line">State 1: X1 -&gt; state 0</div>
</div><!-- fragment --><p>For details on how to interpret the output, we refer to the <a href="https://www.brics.dk/mona/mona14.pdf">MONA manual</a> (Section 2.4: "Outputting the program automaton").</p>
<p>Another way to export the MONA DFA is by using the function <code>Syft::ExplicitStateDfa::export_dfa</code>:</p>
<div class="fragment"><div class="line"><span class="comment">// export the DFA in MONA format</span></div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;Printing the DFA in MONA format: &quot;</span> &lt;&lt; std::endl;</div>
<div class="line">dfa.export_dfa(<span class="stringliteral">&quot;main.mona&quot;</span>);</div>
</div><!-- fragment --><p>This code will create the file <code>main.mona</code> with the following content:</p>
<div class="fragment"><div class="line">MONA DFA</div>
<div class="line">number of variables: 2</div>
<div class="line">variables: request response</div>
<div class="line">orders: 2 2</div>
<div class="line">states: 2</div>
<div class="line">initial: 0</div>
<div class="line">bdd nodes: 4</div>
<div class="line">final: 1 -1</div>
<div class="line">behaviour: 0 1</div>
<div class="line">bdd:</div>
<div class="line"> 0 2 1</div>
<div class="line"> 1 3 2</div>
<div class="line"> -1 0 0</div>
<div class="line"> -1 1 0</div>
<div class="line">end</div>
</div><!-- fragment --><p>This format is not meant to be human-friendly , since it prints the transition function by specifying the BDD nodes. More details on this format can be found in "Section C.1 Using DFA files" of the <a href="https://www.brics.dk/mona/mona14.pdf">MONA manual</a>.</p>
<p>We can also print the DFA in DOT and SVG formats using the function <code>whitemech::lydia::print_mona_dfa</code> from Lydia:</p>
<div class="fragment"><div class="line"><span class="comment">// export the DFA in DOT and SVG formats:</span></div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;Exporting the explicit-state MONA DFA in DOT and SVG to files &#39;main.dot&#39; and &#39;main.svg&#39;...&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">whitemech::lydia::print_mona_dfa(</div>
<div class="line">    dfa.dfa_,</div>
<div class="line">    <span class="stringliteral">&quot;main&quot;</span>,</div>
<div class="line">    dfa.<a class="code" href="classSyft_1_1ExplicitStateDfa.html#afca00daf9a3446a81c435f263a0ff1e5">get_nb_variables</a>()</div>
<div class="line">);</div>
</div><!-- fragment --><p>Output in <code>main.svg</code>:</p>
<p><img src="main.svg" alt="" style="pointer-events: none;" class="inline"/></p>
<h2><a class="anchor" id="autotoc_md19"></a>
Explicit DFA representation (ADD-based)</h2>
<p>Another DFA representation supported by LydiaSyft is the one based on Algebraic Decision Diagrams (ADD), implemented by the class <code><a class="el" href="classSyft_1_1ExplicitStateDfaAdd.html" title="A DFA with explicit states and symbolic transitions represented in ADDs.">Syft::ExplicitStateDfaAdd</a></code>. The following code produces an instance of <code><a class="el" href="classSyft_1_1ExplicitStateDfaAdd.html" title="A DFA with explicit states and symbolic transitions represented in ADDs.">Syft::ExplicitStateDfaAdd</a></code> starting from an instance of <code><a class="el" href="classSyft_1_1ExplicitStateDfa.html" title="A DFA with explicit states and symbolic transitions.">Syft::ExplicitStateDfa</a></code> constructed above:</p>
<div class="fragment"><div class="line"><span class="comment">// transform in explicit state form with ADD</span></div>
<div class="line">std::shared_ptr&lt;Syft::VarMgr&gt; var_mgr = std::make_shared&lt;Syft::VarMgr&gt;();</div>
<div class="line">var_mgr-&gt;create_named_variables({request, response});</div>
<div class="line"><a class="code" href="classSyft_1_1ExplicitStateDfaAdd.html">Syft::ExplicitStateDfaAdd</a> explicit_dfa_add = <a class="code" href="classSyft_1_1ExplicitStateDfaAdd.html#af4ec91852395c954072e3187d3232f77">Syft::ExplicitStateDfaAdd::from_dfa_mona</a>(var_mgr, dfa);</div>
<div class="line">explicit_dfa_add.<a class="code" href="classSyft_1_1ExplicitStateDfaAdd.html#afcacdbd314e1e6c237b99cc0f61313ae">dump_dot</a>(<span class="stringliteral">&quot;main_add.dot&quot;</span>);</div>
</div><!-- fragment --><p>Similar to the previous case, we can print the DFA in DOT format:</p>
<div class="fragment"><div class="line">std::cout &lt;&lt; &quot;Number of states: &quot; &lt;&lt; explicit_dfa_add.state_count() &lt;&lt; std::endl;</div>
<div class="line">std::cout &lt;&lt; &quot;Exporting the explicit-state ADD DFA in DOT format to file &#39;main_add.dot&#39;...&quot; &lt;&lt; std::endl;</div>
<div class="line">explicit_dfa_add.dump_dot(&quot;main_add.dot&quot;);</div>
</div><!-- fragment --><p>The file <code>main_add.dot</code> can then be printed in SVG:</p>
<p><img src="main_add.svg" alt="" style="pointer-events: none;" class="inline"/></p>
<p>The image shows the transition function in ADD form. The root nodes and leaf nodes correspond to the DFA states, while the BDD nodes in the middle encode the decision nodes for each variable of the alphabet.</p>
<h2><a class="anchor" id="autotoc_md20"></a>
Symbolic DFA representation</h2>
<p>LydiaSyft also supports the DFA in _(fully) symbolic_ representation. That is, both the state space and the transition function are represented using symbols (or <em>bits</em>) rather than explicitly. The LydiaSyft class that implements such representation is <code><a class="el" href="classSyft_1_1SymbolicStateDfa.html" title="A DFA with symbolic states and transitions.">Syft::SymbolicStateDfa</a></code>.</p>
<p>Continuing with the example above, we can easily construct a symbolic DFA starting from an ADD-based explicit DFA using the function <code><a class="el" href="classSyft_1_1SymbolicStateDfa.html#ac14b97fb14b1c3b97a3a9c7ffe4c76c8" title="Converts an explicit DFA to a symbolic representation.">Syft::SymbolicStateDfa::from_explicit</a></code>:</p>
<div class="fragment"><div class="line"><span class="comment">// build the symbolic-state DFA from the explicit-state DFA</span></div>
<div class="line"><a class="code" href="classSyft_1_1SymbolicStateDfa.html">Syft::SymbolicStateDfa</a> symbolic_dfa = <a class="code" href="classSyft_1_1SymbolicStateDfa.html#ac14b97fb14b1c3b97a3a9c7ffe4c76c8">Syft::SymbolicStateDfa::from_explicit</a>(std::move(explicit_dfa_add));</div>
</div><!-- fragment --><p>We can visualize the DFA by exporting the BDDs in DOT format:</p>
<div class="fragment"><div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;Exporting the symbolic-state DFA in DOT format to file &#39;main_symbolic.dot&#39;...&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">symbolic_dfa.<a class="code" href="classSyft_1_1SymbolicStateDfa.html#ae2b6e13bfc5497239544cfe45fab5683">dump_dot</a>(<span class="stringliteral">&quot;main_symbolic.dot&quot;</span>);</div>
</div><!-- fragment --><p>The SVG corresponding to <code>main_symbolic.dot</code> is:</p>
<p><img src="main_symbolic.svg" alt="" style="pointer-events: none;" class="inline"/></p>
<p>As you can see, differently from the previous case, now we have the root nodes (top-left), one for each bit, from where we compute its next value. The first decision node determines the current state. In this case, we need to determine whether we are evaluating the transition function from the state <code>0</code> or from the state <code>1</code>. The other decision nodes determine the symbol to be read. The final value determines the value of the bit we started from.</p>
<p>The other root node, <code>Final</code>, represents the set of final states in symbolic form. That is, if the evaluation of the current state, starting from the <code>Final</code> node, returns <code>0</code>, then the state is not in the set of final state, while the opposite holds if the evaluation returns <code>1</code>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="md_docs_p00_api.html">C++ API</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
